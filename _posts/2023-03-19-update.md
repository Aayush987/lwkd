---
layout: post
title: Week Ending March 19, 2023
date: 2023-03-20 22:00:00 -0000
slug: 2023-03-19-update
---

## Developer News

Deprecated registry k8s.gcr.io [has been redirected](https://kubernetes.io/blog/2023/03/10/image-registry-redirect/) to registry.k8s.io.  This may cause issues with some builds and/or deployments, so check yours for image pull errors. Please update your infrastructure and code to use the new registry, as much as you can.

## Release Schedule

**Next Deadline: Docs due March 21; Test Freeze, March 22**

We are in Code Freeze.  Please fix any reported test failures or bugs (urgently).  Your final enhancement documentation is due for editing Tuesday, and on Wednesday they'll halt all changes to tests. The release team is also drafting the release notes and the release blog.

Patch releases [1.26.3](https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.25.md), [1.25.8](https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.25.md), [1.24.12](https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.24.md) are available.  Version 1.23 is now **EOL**, and 1.23.17 was the last patch release for that version.

Signing the images for this month's patch releases [did not go well](https://groups.google.com/a/kubernetes.io/g/dev/c/MwSx761slM0), so you can't yet enforce signing on all images via cosign.  Next month, hopefully.

## Featured PRs


## Other Merges

* You can [stream all logs from a node](https://github.com/kubernetes/kubernetes/pull/96120)
* Topology Aware Hints [get validated](https://github.com/kubernetes/kubernetes/pull/116612), as do [ResourceClaims](https://github.com/kubernetes/kubernetes/pull/116576), just in time for them to be replaced by [Topology Mode Annotation](https://github.com/kubernetes/kubernetes/pull/116522)
* Add an [IPAddress object](https://github.com/kubernetes/kubernetes/pull/115075) and a ClusterIP allocator
* Create an alpha [ClusterTrustBundle API](https://github.com/kubernetes/kubernetes/pull/113218)
* Don't check topology constraints [if the pod selector is null](https://github.com/kubernetes/kubernetes/pull/116607), and don't try to match [null MatchLabelKeys](https://github.com/kubernetes/kubernetes/pull/116535)
* Windows stats will [only be updated once every 10 seconds](https://github.com/kubernetes/kubernetes/pull/116546) to reduce overhead
* Handle [nil response to discovery](https://github.com/kubernetes/kubernetes/pull/116603)
* Add [custom messages](https://github.com/kubernetes/kubernetes/pull/116397) for Validating Admission Policies, as well as [custom matching conditions](https://github.com/kubernetes/kubernetes/pull/116350) and a [type system](https://github.com/kubernetes/kubernetes/pull/115668)
* Even stateless pods [can have user namespaces](https://github.com/kubernetes/kubernetes/pull/116377)
* Send a Cloud Provider a [--node-ip directive](https://github.com/kubernetes/kubernetes/pull/116305)
* kmsv2 [supports DEK key rotation](https://github.com/kubernetes/kubernetes/pull/116155)
* `kubectl explain` defaults to [OpenAPIv3](https://github.com/kubernetes/kubernetes/pull/116390)
* CloudControllerManager can [host webhooks](https://github.com/kubernetes/kubernetes/pull/108838)
* PodSchedulingContext is [the new PodScheduling](https://github.com/kubernetes/kubernetes/pull/116556)
* Eviction calls should [handle preconditions](https://github.com/kubernetes/kubernetes/pull/116554) and not actually evict in a dry-run
* Prevent the [scheduler from mixing up Pod UIDs](https://github.com/kubernetes/kubernetes/pull/116550)
* Rate-limit the [podresource API](https://github.com/kubernetes/kubernetes/pull/116459) to prevent DOS
* Don't include APF wait times in [SLO stats](https://github.com/kubernetes/kubernetes/pull/116420)
* CRDs can now be [ApplySet parent objects](https://github.com/kubernetes/kubernetes/pull/116353)
* Change the [AllocationResult resource field](https://github.com/kubernetes/kubernetes/pull/116332) so that it can support DRA, which requires advancing resources to [v1alpha2](https://github.com/kubernetes/kubernetes/pull/116299)
* Some new [HPA metrics](https://github.com/kubernetes/kubernetes/pull/116326), [and more](https://github.com/kubernetes/kubernetes/pull/116010)
* Don't lose events [when reinitializing the watch cache](https://github.com/kubernetes/kubernetes/pull/116172)
* Name and default [resize policies](https://github.com/kubernetes/kubernetes/pull/116119) sensibly
* DRA values are [in the PodResources API](https://github.com/kubernetes/kubernetes/pull/115847)
* You can have an IngressClassName *and* and [IngressClass Annotation](https://github.com/kubernetes/kubernetes/pull/115447)
* The AppProtocol field [has standard values](https://github.com/kubernetes/kubernetes/pull/115433)
* Pods can use the []`net.ipv4.ip_local_reserved_ports` sysctl setting](https://github.com/kubernetes/kubernetes/pull/115374)
* Pods that aren't restartable [are marked terminal](https://github.com/kubernetes/kubernetes/pull/115331)
* Pods created by a Job [carry the Job Name](https://github.com/kubernetes/kubernetes/pull/114930)
* Better [job controller backoff logic](https://github.com/kubernetes/kubernetes/pull/114768)
* PodDNSPolicies [apply to Windows](https://github.com/kubernetes/kubernetes/pull/110566)
* The [NodeResourceTopology API](https://github.com/kubernetes/kubernetes/pull/96275) has been moved from staging back to the main repo

Contextual Logging: [defaultbinder](https://github.com/kubernetes/kubernetes/pull/116571), [kube-controller-manager](https://github.com/kubernetes/kubernetes/pull/116529), [controller utils](https://github.com/kubernetes/kubernetes/pull/115049), [daemonset](https://github.com/kubernetes/kubernetes/pull/113622), [volumes](https://github.com/kubernetes/kubernetes/pull/113584)

Testing Overhaul: [resize policy defaults](https://github.com/kubernetes/kubernetes/pull/116684), [fix kubemark deps](https://github.com/kubernetes/kubernetes/pull/116645), [standalone test](https://github.com/kubernetes/kubernetes/pull/116631), [more standalone](https://github.com/kubernetes/kubernetes/pull/116551), [StatefulSet defaulting](https://github.com/kubernetes/kubernetes/pull/116561), [e2e pluggability](https://github.com/kubernetes/kubernetes/pull/116517), [snapshot resize](https://github.com/kubernetes/kubernetes/pull/110304)

## Promotions

* [`--subresource` is beta](https://github.com/kubernetes/kubernetes/pull/116595), [plus testing](https://github.com/kubernetes/kubernetes/pull/116590)
* [NodeExpandSecretRef to beta](https://github.com/kubernetes/kubernetes/pull/116581)
* [StatefulSet AutoDelete to beta](https://github.com/kubernetes/kubernetes/pull/116501)
* [SELinuxMountReadWriteOncePod to beta](https://github.com/kubernetes/kubernetes/pull/116425)
* [HPA container resource metrics to beta](https://github.com/kubernetes/kubernetes/pull/116046)
* [KubeletTracing to beta](https://github.com/kubernetes/kubernetes/pull/115750)
* [CSINodeExpandSecret to beta](https://github.com/kubernetes/kubernetes/pull/115621)
* [KMSv2 to beta](https://github.com/kubernetes/kubernetes/pull/115123)

## Deprecated

* DRA Kubelet plugin is v1alpha2, and [v1alpha1 is disabled](https://github.com/kubernetes/kubernetes/pull/116558)
* The old [wait polling methods are deprecated](https://github.com/kubernetes/kubernetes/pull/107826) and being replaced by `PollUntilContextCancel`

## Version Updates

* [kustomize to v5.0.1](https://github.com/kubernetes/kubernetes/pull/116598), and update its dependencies
* [ginkgo to v2.9.1](https://github.com/kubernetes/kubernetes/pull/116539) and gomega to v1.27.3
* [coredns to 1.10.1](https://github.com/kubernetes/kubernetes/pull/115603)
